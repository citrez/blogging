---
title: Use FS package for all you file system needs
author: R package build
date: '2021-03-23'
slug: use-fs-package-for-all-you-file-system-automoation-needs
categories: ["File system"]
tags: []
---

Classic problem i stumbled across recently. I had a bunch of files in a directory, and i wanted to rename them all at once. Perfect excuse, i  thought to myself, to check out the fs package for manipulating files.

## what is a file what is a directory

Good to be clear at the offset. A directory is where you store your files. 
They call it a tree structure, because it looks like a tree. Take a look at one of the directories used to make this blog. 

```{r}
fs::dir_tree('..',recurse = T)
```

fs has a set of functions to deal with both files and directories. 

## What is the game

The game is very simple, creating, deleting, moving and changing the name of files and directories. Thats it. Its very simple, im sure you've all done all of these things before. All we are going to discuss is a different (more automatable) way of doing these things, in the hope that it will save you time if you have to do any one of these tasks in a large batch


## manipulate file paths

If you ever thought, ' i cant be bother to write out "my/path/to/my/file/file.txt", let `fs::path()` do the work `fs::path("my/path/to","my","file","file", ext = "txt")` the benefit here, as with all fs functions, they are vectorised. So if you wanted to make 20 file path in the same directory called my/path/to/my/file/file1.txt,my/path/to/my/file/file2.txt .. etc its as simple as  `fs::path("my/path/to","my","file","file",1:20, ext = "txt")`. Vectorised functions are an important thing to understand in R, but once you understand vectorised functions, it'll change the way you understand R - check out my thoughts about it here. 

 `fs::path_wd()` is tells you where you are. 
 `fs::dir_ls('.')` is laso your friend, it tell what is in the place you are in.

```{r}

library(fs)

fs::path_wd()
fs::file_move( fs::dir_ls('../..') )

old_path <- fs::dir_ls('..')[1:3]
new_path <- fs::dir_ls('..')[1:3] %>% str_remove("(?<=\\.{2}/)\\d{4}-\\d{2}-\\d{2}-")


fs::file_move(path = old_path,new_path = new_path)

fs::path("my/path/to","my","file","file", ext = "txt")

dir_info(path = '.') # can add recurse = TRUE
dir_ls('..')

fs::file_move(path = fs::dir_ls('.') ,
              new_path =  str_remove_all( fs::dir_ls('.'), '\\d*' ) )



#construct paths
path('my','file','path',ext = 'txt')

file_show('index.Rmd')
```

